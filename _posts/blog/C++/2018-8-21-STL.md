---
layout:     post
title:      "STL"
date:       2018-8-21 
header-img: "img/post-bg-2.png"
categories: Cpp
tags: Blog，数据结构
---

#### STL

stl：即标准模板库，是一个具有工业强度得，高效的C++程序库，它是最新的c++标准函数库的一个子集，包括容器，算法，迭代器组件。

![](\img\Blog\stl\t1.gif)

stl序列容器：vector,string,deque,list

stl关联容器：set,multiset,map,multimap

stl适配容器：stack,queue,priority_queue

问：STL是如何实现vector?

答：vector内部是使用动态数组的方式实现的，vector在增加元素时，如果超过自身最大的容量，vector则将自身的容量扩充为原来的两倍。

​	vector的数据安排以及操作方式与数组非常相似，两者唯一区别在于空间运用的灵活性，数组是静态空间一旦配置了就不能再改变大小，如果要增容的话，就要把数据搬到新的数组里面，然后再把原来的空间释放掉还给操作系统。vector是动态的随着元素的增加，它的内部机制会自动的扩充空间来容纳新的元素。

vector的实现技术，关键在于其对大小的控制以及重新配置时的数据移动效率。vector维护的是一个连续的线性空间，所以vector支持随机访问。在vector的动态增加大小的时候，并不是在原有的空间上持续增加成新的空间（无法保证原空间的后面还有可供配置的空间），而是以原大小的两倍另外配置一块较大的空间，然后将原来的内容拷贝过来，并释放原来的空间。因此，对vector的任何操作一旦引起了空间的重新配置，指向原vector的所有迭代器会都失效了，这是比较容易犯的一个错误。

问：vector和list的区别

答：vector拥有一段连续的内存空间;如果需要高效的随机存取，而不在乎删除和插入的效率，就使用vector；vector支持“+”，“+=”，“>”等操作符。

list是由数据结构中的双向链表实现的，因此它的内存空间可以是不连续的;如果需要大量的插入和删除，而不关心随机存取，则使用list；list只支持“++”进行迭代。

问：vector和deque的区别

答：1.内部数据管理不同：vector在添加元素之前，最好调用reserve()设置容量，而deque则不需要。

2.选择的方法不同：一般选择vector;但当需要对首尾两端进行插入和删除元素操作的时候，应选择deque.



问：map和hashmap的区别

答：1.底层数据结构不同，map是红黑树，hashmap是哈希表。

2.map的优点在于元素可以自动按照键和值的顺序排列，而hashmap的优点在于它的各项操作的平均时间复杂度接近常数。

3.map是标准库的一部分，hashmap不是。

问：智能指针

答：其目的是促使动态内存和异常之间进行平滑的交互。auto_ptr保证当异常掷出时，分配的对象能够被自动销毁，内存能被自动释放。

auto_ptr可以代替指针完成类似指针的操作，而不用担心内存释放的问题。智能指针的析构函数自动销毁它绑定的动态分配对象。